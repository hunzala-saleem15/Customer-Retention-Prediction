<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title or "Churn Prediction App" }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        /* Background */
        body { 
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: #e1f5fe;
        }

        /* Navbar */
        .navbar {
            background: transparent !important;  /* Transparent background */
            backdrop-filter: blur(6px);          /* Slight blur for readability */
            box-shadow: none;                    /* Remove shadow */
        }
        .navbar-brand { font-weight: bold; letter-spacing: 0.5px; color: white !important; }
        .nav-link { color: #e1f5fe !important; transition: color 0.2s ease-in-out; }
        .nav-link:hover { color: #81d4fa !important; }

        /* Cards */
        .feature-card { 
            padding: 20px; border-radius: 12px; background: #0d47a1; 
            box-shadow: 0 6px 20px rgba(0,0,0,0.15); margin-bottom: 20px; 
            color: #e1f5fe; transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 0 12px 25px rgba(0,0,0,0.25);
        }

        /* Forms & Buttons */
        .form-label { font-weight: 500; color: #e1f5fe; }
        .form-control, .form-select {
            border-radius: 8px; background-color: #1e3c72; color: #e1f5fe; border: 1px solid #81d4fa;
        }
        .form-control::placeholder { color: #b3e5fc; }
        .btn { border-radius: 8px; font-weight: 500; transition: transform 0.2s ease; }
        .btn:hover { transform: translateY(-2px); }
        .btn-primary { background-color: #81d4fa; border-color: #81d4fa; color: #1e3c72; }
        .btn-primary:hover { background-color: #4fc3f7; border-color: #4fc3f7; color: #1e3c72; }
        .btn-light { background-color: #e1f5fe; color: #1e3c72; }
        .btn-light:hover { background-color: #b3e5fc; }

        /* Footer */
        footer { background-color: #0d47a1; color: #e1f5fe; padding: 15px 0; text-align: center; margin-top: 40px; }

        /* Dark mode */
        body.dark-mode {
            background: #121b2a;
            color: #e1f5fe;
        }
        body.dark-mode .feature-card { background: #1b2a44; color: #b3e5fc; }
        body.dark-mode .navbar-brand, body.dark-mode .nav-link { color: #81d4fa !important; }

        /* Fullscreen Home Container */
        .home-container { padding: 0; margin-top: 0; }

    </style>
</head>
<body>

{% if session.get('user') %}
<nav class="navbar navbar-expand-lg fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand" href="{{ url_for('home') }}">ChurnApp</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto align-items-lg-center">
                <li class="nav-item"><a class="nav-link" href="{{ url_for('home') }}">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ url_for('data_overview') }}">Data Understanding</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ url_for('predict') }}">Prediction</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ url_for('model_comparison') }}">Comparison</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ url_for('suggestions') }}">Suggestions</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ url_for('dashboard') }}">Dashboard</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ url_for('logout') }}">Logout</a></li>
                <li class="nav-item ms-3">
                    <button id="darkToggle" class="btn btn-sm btn-light">üåô</button>
                </li>
            </ul>
        </div>
    </div>
</nav>
{% endif %}

<!-- Conditional container -->
<div class="{% if home %}home-container{% else %}container-fluid py-5 mt-5 animate__animated animate__fadeIn{% endif %}">
    {% block content %}{% endblock %}
</div>

<footer>
    <p class="mb-0">¬© 2025 Churn Prediction App | Designed with ‚ù§Ô∏è</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Dark mode toggle
    const toggle = document.getElementById("darkToggle");
    if(toggle){
        toggle.addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
            toggle.textContent = document.body.classList.contains("dark-mode") ? "‚òÄÔ∏è" : "üåô";
        });
    }
</script>
{% block scripts %}{% endblock %}
</body>
</html>
